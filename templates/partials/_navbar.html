{% load static %}

{% load custom_template_tags %}
 <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
    <div class="container" style="max-width: 80%;">
      <a class="navbar-brand" href="{% url 'pages:index' %}">
        
        <h3 style="text-transform: none;">NP</h3>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <ul class="navbar-nav">
           <li
            {% if '/all-plots/' == request.path %}
              class="nav-item active mr-3"
            {% else %}
              class="nav-item mr-3"
            {% endif %}
          >
            <a class="nav-link" href="{% url 'parking:all-plots' %}">Available Plots</a>
          </li>
          {% if user.is_authenticated %}
          <li
            {% if '/my-booked-plots/' == request.path %}
              class="nav-item active mr-3"
            {% else %}
              class="nav-item mr-3"
            {% endif %}
          >
            <a class="nav-link" href="{% url 'parking:my-booked-plots' %}">Booked Plots&nbsp;<sup title='Booked Plots'><span style="font-size: 0.8rem;" class="badge badge-info">{% my_booked_plots user %}</span></sup></a>
          </li>
          {% endif %}
          <li 
          {% if '/complaints/' == request.path %}
              class="nav-item active mr-3"
            {% else %}
              class="nav-item mr-3"
            {% endif %}
          >
            <a class="nav-link" href="{% url 'pages:complaints' %}">Complaints</a>
          </li>
          <li 
          {% if '/contact-us/' == request.path %}
              class="nav-item active mr-3"
            {% else %}
              class="nav-item mr-3"
            {% endif %}
          >
            <a class="nav-link" href="{% url 'pages:contactus' %}">Contact Us</a>
          </li>
          <li
          {% if '/about-us/' == request.path %}
              class="nav-item active mr-3"
            {% else %}
              class="nav-item mr-3"
            {% endif %}
          >
            <a class="nav-link" href="{% url 'pages:aboutus' %}">About Us </a>
          </li>
        </ul>
        
        <ul class="navbar-nav ml-auto">
          {% if user.is_authenticated %}
            <li 
              {% if '/' in request.path %}
                class="nav-item active mr-3"
              {% else %}
                class="nav-item mr-3"
              {% endif %}>

              <a class="nav-link" href="#">
               <b> Welcome {{ user.username }}</b></a>
                            
            </li>

            <li class="nav-item mr-3">
              <a href="javascript:{document.getElementById('logout').submit()}" class="nav-link">
                <i class="fas fa-sign-out-alt"></i> Logout
              </a>
              <form action="{% url 'accounts:logout' %}" method="POST" id="logout">
                {% csrf_token %}
                <input type="hidden">
              </form>
            </li>
          {% else %}
            <li 
              {% if 'register' in request.path %}
                class="nav-item active mr-3"
              {% else %}
                class="nav-item mr-3"
              {% endif %}
            >
              <a class="nav-link" href="{% url 'accounts:register' %}">
                <i class="fas fa-user-plus"></i> Register</a>
            </li>
            <li 
              {% if 'login' in request.path %}
                class="nav-item active mr-3"
              {% else %}
                class="nav-item mr-3"
              {% endif %}
            >
              <a class="nav-link" href="{% url 'accounts:login' %}">
                <i class="fas fa-sign-in-alt"></i>
                Login</a>
            </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
